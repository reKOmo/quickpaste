import{s as x,a as y,_ as S}from"./logo-paste-created.592dfb80.js";import{i as b,A as C,j as O,s as c,D as P,k as j,o,b as n,u as t,l as p,e,E as l,t as A,Q as v,R as F,N as r,T as E,p as V,f as B}from"./entry.e9799e26.js";const h=i=>(V("data-v-64ff6768"),i=i(),B(),i),D={key:0,class:"container"},q={key:1},Q={key:0,class:"flex flex-row justify-center items-center mt-12"},$=["data"],J={ref:"img0",src:x},L=h(()=>e("div",{class:"bg-gradient-to-tr from-green to-orange rounded p-6 h-min"},[e("h2",{class:"text-2xl font-bold"},"Creating paste")],-1)),M={key:1},R={key:0,class:"flex flex-row justify-center items-center mt-12"},U=["data"],Y={ref:"img1",src:y},z={class:"doneText bg-gradient-to-tr from-green to-orange rounded p-6 h-min"},G=h(()=>e("h2",{class:"text-2xl font-bold"},"Paste created!",-1)),H=l(" Check it at: "),K=["href"],W={key:1,class:"flex flex-row justify-center items-center mt-12"},X={class:"doneText bg-gradient-to-tr from-green to-orange rounded p-6 h-min"},Z=h(()=>e("h2",{class:"text-2xl font-bold"},"Daily paste limit reached",-1)),ee=l(" You have surpassed your daily paste limit. For more information see "),te=l("here"),se={__name:"index",setup(i){const N=C(),a=O(),I=N.user()!=null;let _=c(!1),d=c(void 0),f=c(200),g=c(void 0);const T=async u=>{g.value=u,_.value=!0;const m=await fetch("/api/paste",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(u)}),s=await m.json();s.ok?(d.value=s.result,f.value=m.status):(_.value=!1,s.result.includes("title")?a.addNotification({title:"Paste title is missing",type:r.NOTIFICATION,level:1}):s.result.includes("name")?a.addNotification({title:"One or more fragments are missing a title",type:r.NOTIFICATION,level:1}):s.result.includes("content")?a.addNotification({title:"Some fragments are missing a title",description:"Please deleate them, or add missing content",type:r.NOTIFICATION,level:1}):a.addNotification({title:"Error accured when creating the paste",description:"Please try again.",type:r.NOTIFICATION,level:1}))};return P(()=>{document.title="Quickpaste"}),(u,m)=>{const s=S,k=j("font-awesome-icon"),w=E;return o(),n("div",null,[t(_)?(o(),n("div",q,[t(d)?(o(),n("div",M,[t(f)==200?(o(),n("div",R,[e("object",{width:"300",height:"300",type:"image/svg+xml",data:t(y)},[e("img",Y,null,512)],8,U),e("div",z,[G,e("h3",null,[H,e("a",{class:"font-bold",href:`/${t(d).pasteId}`},[l(A(t(d).pasteId)+" ",1),p(k,{icon:["fas","fa-arrow-up-right-from-square"]})],8,K)])])])):v("",!0),t(f)==429?(o(),n("div",W,[e("div",X,[Z,e("h3",null,[ee,p(w,{href:"/api-docs#limits"},{default:F(()=>[te]),_:1})])])])):v("",!0)])):(o(),n("div",Q,[e("object",{width:"300",height:"300",type:"image/svg+xml",data:t(x)},[e("img",J,null,512)],8,$),L]))])):(o(),n("div",D,[p(s,{onSubmit:T,paste:t(g),loggedIn:I},null,8,["paste"])]))])}}},ie=b(se,[["__scopeId","data-v-64ff6768"]]);export{ie as default};
