import{_ as p}from"./PasteEditor.b2fb1e3b.mjs";import{h as f,A as u,k as m,o,b as n,l as d,e as t,m as i,t as g,O as c,Q as v,S as y,p as b,f as x}from"./entry.7ef94d9d.mjs";const a=s=>(b("data-v-d535bf91"),s=s(),x(),s),w={key:0,class:"container"},P={key:1},k={key:0,class:"flex flex-row justify-center items-center mt-12"},S=a(()=>t("iframe",{width:"300",height:"300",src:"../assets/animated/logo-paste-loading.svg",alt:"Loading"},null,-1)),C=a(()=>t("div",{class:"bg-gradient-to-tr from-green to-orange rounded p-6 h-min"},[t("h2",{class:"text-2xl font-bold"},"Creating paste")],-1)),I=[S,C],T={key:1},j={key:0,class:"flex flex-row justify-center items-center mt-12"},N=a(()=>t("iframe",{width:"300",height:"300",src:"../assets/animated/logo-paste-created.svg",alt:"Created"},null,-1)),q={class:"doneText bg-gradient-to-tr from-green to-orange rounded p-6 h-min"},L=a(()=>t("h2",{class:"text-2xl font-bold"},"Paste created!",-1)),$=i(" Check it at: "),O=["href"],V={key:1,class:"flex flex-row justify-center items-center mt-12"},B={class:"doneText bg-gradient-to-tr from-green to-orange rounded p-6 h-min"},D=a(()=>t("h2",{class:"text-2xl font-bold"},"Daily paste limit reached",-1)),E=i(" You have surpassed your daily paste limit. For more information see "),Q=i("here"),A={data(){return{snippets:[0],offscreen:!1,postingPaste:!1,createdPaste:void 0,loggedIn:!1,requestCode:200}},mounted(){this.loggedIn=this.userStore.user()!=null,document.title="Quickpaste"},watch:{snippets:{handler(){setTimeout(()=>{const s=this.$refs["editor-conteiner"];s.scrollTo({top:s.scrollHeight,behavior:"smooth"})},10)},deep:!0}},methods:{async createPaste(s){this.postingPaste=!0;const e=await fetch("/webapi/paste",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(s)}),r=await e.json();this.createdPaste=r.result,this.requestCode=e.status},removeLast(){this.snippets.length>1&&this.snippets.pop(),this.snippets.length==1&&this.$refs.remove.classList.add("hide")},addSnippet(){this.snippets.push(this.snippets.length),this.snippets.length>1&&this.$refs.remove.classList.remove("hide")}}},F=Object.assign(A,{__name:"index",setup(s){return u(),(e,r)=>{const l=p,h=m("font-awesome-icon"),_=y;return o(),n("div",null,[e.postingPaste?(o(),n("div",P,[e.createdPaste?(o(),n("div",T,[e.requestCode==200?(o(),n("div",j,[N,t("div",q,[L,t("h3",null,[$,t("a",{class:"font-bold",href:`/${e.createdPaste.pasteId}`},[i(g(e.createdPaste.pasteId)+" ",1),d(h,{icon:["fas","fa-arrow-up-right-from-square"]})],8,O)])])])):c("",!0),e.requestCode==429?(o(),n("div",V,[t("div",B,[D,t("h3",null,[E,d(_,{href:"/"},{default:v(()=>[Q]),_:1})])])])):c("",!0)])):(o(),n("div",k,I))])):(o(),n("div",w,[d(l,{onSubmit:e.createPaste,loggedIn:e.loggedIn},null,8,["onSubmit","loggedIn"])]))])}}}),U=f(F,[["__scopeId","data-v-d535bf91"]]);export{U as default};
