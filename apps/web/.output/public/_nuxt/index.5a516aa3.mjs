import{_ as f,a as u,b as g}from"./logo-paste-created.bf9dc563.mjs";import{h as v,z as x,k as y,o,b as n,l as r,e as t,D as i,t as b,O as l,Q as w,S as P,p as k,f as S}from"./entry.4b0e2bbd.mjs";const I={data(){return{snippets:[0],offscreen:!1,postingPaste:!1,createdPaste:void 0,loggedIn:!1,requestCode:200}},asyncData({$pinia:e}){x(e)},mounted(){this.loggedIn=this.userStore.user()!=null,document.title="Quickpaste"},watch:{snippets:{handler(){setTimeout(()=>{const e=this.$refs["editor-conteiner"];e.scrollTo({top:e.scrollHeight,behavior:"smooth"})},10)},deep:!0}},methods:{async createPaste(e){this.postingPaste=!0;const a=await fetch("/api/paste",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)}),c=await a.json();this.createdPaste=c.result,this.requestCode=a.status},removeLast(){this.snippets.length>1&&this.snippets.pop(),this.snippets.length==1&&this.$refs.remove.classList.add("hide")},addSnippet(){this.snippets.push(this.snippets.length),this.snippets.length>1&&this.$refs.remove.classList.remove("hide")}}},d=e=>(k("data-v-86560ba4"),e=e(),S(),e),C={key:0,class:"container"},j={key:1},T={key:0,class:"flex flex-row justify-center items-center mt-12"},N=["data"],q={ref:"img0",src:f},D=d(()=>t("div",{class:"bg-gradient-to-tr from-green to-orange rounded p-6 h-min"},[t("h2",{class:"text-2xl font-bold"},"Creating paste")],-1)),L={key:1},V={key:0,class:"flex flex-row justify-center items-center mt-12"},B=["data"],O={ref:"img1",src:u},U={class:"doneText bg-gradient-to-tr from-green to-orange rounded p-6 h-min"},$=d(()=>t("h2",{class:"text-2xl font-bold"},"Paste created!",-1)),A=i(" Check it at: "),E=["href"],Q={key:1,class:"flex flex-row justify-center items-center mt-12"},z={class:"doneText bg-gradient-to-tr from-green to-orange rounded p-6 h-min"},F=d(()=>t("h2",{class:"text-2xl font-bold"},"Daily paste limit reached",-1)),H=i(" You have surpassed your daily paste limit. For more information see "),J=i("here");function Y(e,a,c,G,s,h){const _=g,p=y("font-awesome-icon"),m=P;return o(),n("div",null,[s.postingPaste?(o(),n("div",j,[s.createdPaste?(o(),n("div",L,[s.requestCode==200?(o(),n("div",V,[t("object",{width:"300",height:"300",type:"image/svg+xml",data:e.$resolveAssetUrl("animated/logo-paste-created.svg")},[t("img",O,null,512)],8,B),t("div",U,[$,t("h3",null,[A,t("a",{class:"font-bold",href:`/${s.createdPaste.pasteId}`},[i(b(s.createdPaste.pasteId)+" ",1),r(p,{icon:["fas","fa-arrow-up-right-from-square"]})],8,E)])])])):l("",!0),s.requestCode==429?(o(),n("div",Q,[t("div",z,[F,t("h3",null,[H,r(m,{href:"/"},{default:w(()=>[J]),_:1})])])])):l("",!0)])):(o(),n("div",T,[t("object",{width:"300",height:"300",type:"image/svg+xml",data:e.$resolveAssetUrl("animated/logo-paste-loading.svg")},[t("img",q,null,512)],8,N),D]))])):(o(),n("div",C,[r(_,{onSubmit:h.createPaste,loggedIn:s.loggedIn},null,8,["onSubmit","loggedIn"])]))])}const R=v(I,[["render",Y],["__scopeId","data-v-86560ba4"]]);export{R as default};
