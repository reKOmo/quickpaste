import{s as x,a as y,_ as S}from"./logo-paste-created.acb6ac43.js";import{s as b,E as C,A as O,r,f as P,B as j,t as o,u as t,l as p,v as e,I as l,y as A,W as v,C as F,N as _,D as B,o as a,O as E,Q as V}from"./entry.ac7ce826.js";const h=n=>(E("data-v-8724f863"),n=n(),V(),n),D={key:0,class:"container"},q={key:1},Q={key:0,class:"flex flex-row justify-center items-center mt-12"},$=["data"],J={ref:"img0",src:x},L=h(()=>e("div",{class:"bg-gradient-to-tr from-green to-orange rounded p-6 h-min hidden md:block"},[e("h2",{class:"text-2xl font-bold"},"Creating paste...")],-1)),M={key:1},U={key:0,class:"flex flex-row justify-center items-center mt-12"},W=["data"],Y={ref:"img1",src:y},z={class:"doneText bg-gradient-to-tr from-green to-orange rounded p-6 mt-6 h-min"},G=h(()=>e("h2",{class:"text-2xl font-bold"},"Paste created!",-1)),H=["href"],K={key:1,class:"flex flex-row justify-center items-center mt-12"},R={class:"doneText bg-gradient-to-tr from-green to-orange rounded p-6 h-min"},X=h(()=>e("h2",{class:"text-2xl font-bold"},"Daily paste limit reached",-1)),Z={__name:"index",setup(n){const I=C(),i=O(),N=I.user()!=null;let u=r(!1),d=r(void 0),c=r(200),g=r(void 0);const w=async f=>{g.value=f,u.value=!0;const m=await fetch("/api/paste",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(f)}),s=await m.json();if(c.value=m.status,d.value=s.result,!s.ok){if(c.value==429)return;u.value=!1,s.result.includes("title")?i.addNotification({title:"Paste title is missing",type:_.NOTIFICATION,level:1}):s.result.includes("name")?i.addNotification({title:"One or more fragments are missing a title",type:_.NOTIFICATION,level:1}):s.result.includes("content")?i.addNotification({title:"Some fragments are missing a title",description:"Please deleate them, or add missing content",type:_.NOTIFICATION,level:1}):i.addNotification({title:"Error accured when creating the paste",description:"Please try again.",type:_.NOTIFICATION,level:1})}};return P(()=>{document.title="Quickpaste"}),(f,m)=>{const s=S,T=j("font-awesome-icon"),k=B;return a(),o("div",null,[t(u)?(a(),o("div",q,[t(d)?(a(),o("div",M,[t(c)==200?(a(),o("div",U,[e("object",{class:"w-100px sm:w-150px md:w-300px",type:"image/svg+xml",data:t(y)},[e("img",Y,null,512)],8,W),e("div",z,[G,e("h3",null,[l(" Check it at: "),e("a",{class:"font-bold",href:`/${t(d).pasteId}`},[l(A(t(d).pasteId)+" ",1),p(T,{icon:["fas","fa-arrow-up-right-from-square"]})],8,H)])])])):v("",!0),t(c)==429?(a(),o("div",K,[e("div",R,[X,e("h3",null,[l(" You have surpassed your daily paste limit. For more information see "),p(k,{href:"/api-docs#limits"},{default:F(()=>[l("here")]),_:1})])])])):v("",!0)])):(a(),o("div",Q,[e("object",{width:"300",height:"300",type:"image/svg+xml",data:t(x)},[e("img",J,null,512)],8,$),L]))])):(a(),o("div",D,[p(s,{onSubmit:w,paste:t(g),loggedIn:N},null,8,["paste"])]))])}}},se=b(Z,[["__scopeId","data-v-8724f863"]]);export{se as default};
