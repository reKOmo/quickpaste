import{_ as m,a as u,b as f}from"./logo-paste-created.c5e4b40e.mjs";import{h as g,z as v,k as y,o,b as n,l as d,e,E as a,t as x,O as l,Q as b,S as w,p as P,f as S}from"./entry.2d4fb622.mjs";const c=t=>(P("data-v-817873d0"),t=t(),S(),t),k={key:0,class:"container"},C={key:1},j={key:0,class:"flex flex-row justify-center items-center mt-12"},I=["data"],T={ref:"img0",src:m},$=c(()=>e("div",{class:"bg-gradient-to-tr from-green to-orange rounded p-6 h-min"},[e("h2",{class:"text-2xl font-bold"},"Creating paste")],-1)),N={key:1},q={key:0,class:"flex flex-row justify-center items-center mt-12"},L=["data"],O={ref:"img1",src:u},V={class:"doneText bg-gradient-to-tr from-green to-orange rounded p-6 h-min"},B=c(()=>e("h2",{class:"text-2xl font-bold"},"Paste created!",-1)),E=a(" Check it at: "),U=["href"],A={key:1,class:"flex flex-row justify-center items-center mt-12"},D={class:"doneText bg-gradient-to-tr from-green to-orange rounded p-6 h-min"},Q=c(()=>e("h2",{class:"text-2xl font-bold"},"Daily paste limit reached",-1)),z=a(" You have surpassed your daily paste limit. For more information see "),F=a("here"),H={data(){return{snippets:[0],offscreen:!1,postingPaste:!1,createdPaste:void 0,requestCode:200}},mounted(){document.title="Quickpaste"},watch:{snippets:{handler(){setTimeout(()=>{const t=this.$refs["editor-conteiner"];t.scrollTo({top:t.scrollHeight,behavior:"smooth"})},10)},deep:!0}},methods:{async createPaste(t){this.postingPaste=!0;const i=await fetch("/api/paste",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)}),r=await i.json();this.createdPaste=r.result,this.requestCode=i.status},removeLast(){this.snippets.length>1&&this.snippets.pop(),this.snippets.length==1&&this.$refs.remove.classList.add("hide")},addSnippet(){this.snippets.push(this.snippets.length),this.snippets.length>1&&this.$refs.remove.classList.remove("hide")}}},J=Object.assign(H,{__name:"index",setup(t){const r=v().user()!=null;return(s,Y)=>{const _=f,h=y("font-awesome-icon"),p=w;return o(),n("div",null,[s.postingPaste?(o(),n("div",C,[s.createdPaste?(o(),n("div",N,[s.requestCode==200?(o(),n("div",q,[e("object",{width:"300",height:"300",type:"image/svg+xml",data:s.$resolveAssetUrl("animated/logo-paste-created.svg")},[e("img",O,null,512)],8,L),e("div",V,[B,e("h3",null,[E,e("a",{class:"font-bold",href:`/${s.createdPaste.pasteId}`},[a(x(s.createdPaste.pasteId)+" ",1),d(h,{icon:["fas","fa-arrow-up-right-from-square"]})],8,U)])])])):l("",!0),s.requestCode==429?(o(),n("div",A,[e("div",D,[Q,e("h3",null,[z,d(p,{href:"/"},{default:b(()=>[F]),_:1})])])])):l("",!0)])):(o(),n("div",j,[e("object",{width:"300",height:"300",type:"image/svg+xml",data:s.$resolveAssetUrl("animated/logo-paste-loading.svg")},[e("img",T,null,512)],8,I),$]))])):(o(),n("div",k,[d(_,{onSubmit:s.createPaste,loggedIn:r},null,8,["onSubmit"])]))])}}}),M=g(J,[["__scopeId","data-v-817873d0"]]);export{M as default};
