import{s as v,a as y,_ as T}from"./D6s1QMic.js";import{_ as S,i as C,j as O,k as r,l as P,c as o,h as t,b as p,a as e,d as l,t as j,m as x,w as F,N as _,n as A,e as V,o as a,p as B,f as E}from"./DhotaUmr.js";const h=n=>(B("data-v-e68b806c"),n=n(),E(),n),q={key:0,class:"container"},D={key:1},$={key:0,class:"flex flex-row justify-center items-center mt-12"},J=["data"],L={ref:"img0",src:v},M=h(()=>e("div",{class:"bg-gradient-to-tr from-green to-orange rounded p-6 h-min hidden md:block"},[e("h2",{class:"text-2xl font-bold"},"Creating paste...")],-1)),Q={key:1},U={key:0,class:"flex flex-row justify-center items-center mt-12"},Y=["data"],z={ref:"img1",src:y},G={class:"doneText bg-gradient-to-tr from-green to-orange rounded p-6 mt-6 h-min"},H=h(()=>e("h2",{class:"text-2xl font-bold"},"Paste created!",-1)),K=["href"],R={key:1,class:"flex flex-row justify-center items-center mt-12"},W={class:"doneText bg-gradient-to-tr from-green to-orange rounded p-6 h-min"},X=h(()=>e("h2",{class:"text-2xl font-bold"},"Daily paste limit reached",-1)),Z={__name:"index",setup(n){const N=C(),i=O(),I=N.user()!=null;let m=r(!1),c=r(void 0),d=r(200),g=r(void 0);const w=async u=>{g.value=u,m.value=!0;const f=await fetch("/api/paste",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(u)}),s=await f.json();if(d.value=f.status,c.value=s.result,!s.ok){if(d.value==429)return;m.value=!1,s.result.includes("title")?i.addNotification({title:"Paste title is missing",type:_.NOTIFICATION,level:1}):s.result.includes("name")?i.addNotification({title:"One or more fragments are missing a title",type:_.NOTIFICATION,level:1}):s.result.includes("content")?i.addNotification({title:"Some fragments are missing a title",description:"Please deleate them, or add missing content",type:_.NOTIFICATION,level:1}):i.addNotification({title:"Error accured when creating the paste",description:"Please try again.",type:_.NOTIFICATION,level:1})}};return P(()=>{document.title="Quickpaste"}),(u,f)=>{const s=T,b=A("font-awesome-icon"),k=V;return a(),o("div",null,[t(m)?(a(),o("div",D,[t(c)?(a(),o("div",Q,[t(d)==200?(a(),o("div",U,[e("object",{class:"w-100px sm:w-150px md:w-300px",type:"image/svg+xml",data:t(y)},[e("img",z,null,512)],8,Y),e("div",G,[H,e("h3",null,[l(" Check it at: "),e("a",{class:"font-bold",href:`/paste/${t(c).pasteId}`},[l(j(t(c).pasteId)+" ",1),p(b,{icon:["fas","arrow-up-right-from-square"]})],8,K)])])])):x("",!0),t(d)==429?(a(),o("div",R,[e("div",W,[X,e("h3",null,[l(" You have surpassed your daily paste limit. For more information see "),p(k,{href:"/api-docs#limits"},{default:F(()=>[l("here")]),_:1})])])])):x("",!0)])):(a(),o("div",$,[e("object",{width:"300",height:"300",type:"image/svg+xml",data:t(v)},[e("img",L,null,512)],8,J),M]))])):(a(),o("div",q,[p(s,{onSubmit:w,paste:t(g),loggedIn:I},null,8,["paste"])]))])}}},se=S(Z,[["__scopeId","data-v-e68b806c"]]);export{se as default};
