import{s as l,a as p,_ as g}from"./logo-paste-created.c03904b9.js";import{h as v,y,k as x,o,b as n,l as r,e,u as _,D as a,t as b,O as h,Q as w,S as P,p as S,f as k}from"./entry.ebac6982.js";const c=t=>(S("data-v-8ed73d0a"),t=t(),k(),t),C={key:0,class:"container"},j={key:1},I={key:0,class:"flex flex-row justify-center items-center mt-12"},T=["data"],N={ref:"img0",src:l},q=c(()=>e("div",{class:"bg-gradient-to-tr from-green to-orange rounded p-6 h-min"},[e("h2",{class:"text-2xl font-bold"},"Creating paste")],-1)),$={key:1},L={key:0,class:"flex flex-row justify-center items-center mt-12"},O=["data"],V={ref:"img1",src:p},B={class:"doneText bg-gradient-to-tr from-green to-orange rounded p-6 h-min"},D=c(()=>e("h2",{class:"text-2xl font-bold"},"Paste created!",-1)),E=a(" Check it at: "),Q=["href"],F={key:1,class:"flex flex-row justify-center items-center mt-12"},H={class:"doneText bg-gradient-to-tr from-green to-orange rounded p-6 h-min"},J=c(()=>e("h2",{class:"text-2xl font-bold"},"Daily paste limit reached",-1)),U=a(" You have surpassed your daily paste limit. For more information see "),Y=a("here"),z={data(){return{snippets:[0],offscreen:!1,postingPaste:!1,createdPaste:void 0,requestCode:200}},mounted(){document.title="Quickpaste"},watch:{snippets:{handler(){setTimeout(()=>{const t=this.$refs["editor-conteiner"];t.scrollTo({top:t.scrollHeight,behavior:"smooth"})},10)},deep:!0}},methods:{async createPaste(t){this.postingPaste=!0;const i=await fetch("/api/paste",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)}),d=await i.json();this.createdPaste=d.result,this.requestCode=i.status},removeLast(){this.snippets.length>1&&this.snippets.pop(),this.snippets.length==1&&this.$refs.remove.classList.add("hide")},addSnippet(){this.snippets.push(this.snippets.length),this.snippets.length>1&&this.$refs.remove.classList.remove("hide")}}},A=Object.assign(z,{__name:"index",setup(t){const d=y().user()!=null;return(s,G)=>{const u=g,m=x("font-awesome-icon"),f=P;return o(),n("div",null,[s.postingPaste?(o(),n("div",j,[s.createdPaste?(o(),n("div",$,[s.requestCode==200?(o(),n("div",L,[e("object",{width:"300",height:"300",type:"image/svg+xml",data:_(p)},[e("img",V,null,512)],8,O),e("div",B,[D,e("h3",null,[E,e("a",{class:"font-bold",href:`/${s.createdPaste.pasteId}`},[a(b(s.createdPaste.pasteId)+" ",1),r(m,{icon:["fas","fa-arrow-up-right-from-square"]})],8,Q)])])])):h("",!0),s.requestCode==429?(o(),n("div",F,[e("div",H,[J,e("h3",null,[U,r(f,{href:"/"},{default:w(()=>[Y]),_:1})])])])):h("",!0)])):(o(),n("div",I,[e("object",{width:"300",height:"300",type:"image/svg+xml",data:_(l)},[e("img",N,null,512)],8,T),q]))])):(o(),n("div",C,[r(u,{onSubmit:s.createPaste,loggedIn:d},null,8,["onSubmit"])]))])}}}),R=v(A,[["__scopeId","data-v-8ed73d0a"]]);export{R as default};
