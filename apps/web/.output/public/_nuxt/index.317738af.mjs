import{_ as p,a as m,b as f}from"./logo-paste-created.5230a5c0.mjs";import{h as u,A as g,k as v,o,b as n,l as d,e,m as i,t as y,O as c,Q as x,S as b,p as w,f as P}from"./entry.64de50a4.mjs";const a=s=>(w("data-v-f360483d"),s=s(),P(),s),k={key:0,class:"container"},S={key:1},I={key:0,class:"flex flex-row justify-center items-center mt-12"},C=a(()=>e("object",{width:"300",height:"300",type:"image/svg+xml",data:"@/assets/animated/logo-paste-loading.svg"},[e("img",{src:m})],-1)),j=a(()=>e("div",{class:"bg-gradient-to-tr from-green to-orange rounded p-6 h-min"},[e("h2",{class:"text-2xl font-bold"},"Creating paste")],-1)),T=[C,j],N={key:1},q={key:0,class:"flex flex-row justify-center items-center mt-12"},$=a(()=>e("object",{width:"300",height:"300",type:"image/svg+xml",data:"@/assets/animated/logo-paste-created.svg"},[e("img",{src:f})],-1)),L={class:"doneText bg-gradient-to-tr from-green to-orange rounded p-6 h-min"},O=a(()=>e("h2",{class:"text-2xl font-bold"},"Paste created!",-1)),V=i(" Check it at: "),B=["href"],D={key:1,class:"flex flex-row justify-center items-center mt-12"},E={class:"doneText bg-gradient-to-tr from-green to-orange rounded p-6 h-min"},Q=a(()=>e("h2",{class:"text-2xl font-bold"},"Daily paste limit reached",-1)),A=i(" You have surpassed your daily paste limit. For more information see "),F=i("here"),H={data(){return{snippets:[0],offscreen:!1,postingPaste:!1,createdPaste:void 0,loggedIn:!1,requestCode:200}},mounted(){this.loggedIn=this.userStore.user()!=null,document.title="Quickpaste"},watch:{snippets:{handler(){setTimeout(()=>{const s=this.$refs["editor-conteiner"];s.scrollTo({top:s.scrollHeight,behavior:"smooth"})},10)},deep:!0}},methods:{async createPaste(s){this.postingPaste=!0;const t=await fetch("/webapi/paste",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(s)}),r=await t.json();this.createdPaste=r.result,this.requestCode=t.status},removeLast(){this.snippets.length>1&&this.snippets.pop(),this.snippets.length==1&&this.$refs.remove.classList.add("hide")},addSnippet(){this.snippets.push(this.snippets.length),this.snippets.length>1&&this.$refs.remove.classList.remove("hide")}}},J=Object.assign(H,{__name:"index",setup(s){return g(),(t,r)=>{const l=p,h=v("font-awesome-icon"),_=b;return o(),n("div",null,[t.postingPaste?(o(),n("div",S,[t.createdPaste?(o(),n("div",N,[t.requestCode==200?(o(),n("div",q,[$,e("div",L,[O,e("h3",null,[V,e("a",{class:"font-bold",href:`/${t.createdPaste.pasteId}`},[i(y(t.createdPaste.pasteId)+" ",1),d(h,{icon:["fas","fa-arrow-up-right-from-square"]})],8,B)])])])):c("",!0),t.requestCode==429?(o(),n("div",D,[e("div",E,[Q,e("h3",null,[A,d(_,{href:"/"},{default:x(()=>[F]),_:1})])])])):c("",!0)])):(o(),n("div",I,T))])):(o(),n("div",k,[d(l,{onSubmit:t.createPaste,loggedIn:t.loggedIn},null,8,["onSubmit","loggedIn"])]))])}}}),z=u(J,[["__scopeId","data-v-f360483d"]]);export{z as default};
